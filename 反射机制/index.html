<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Java基础-反射机制 - Z</title><meta name="Description" content="About Z"><meta property="og:title" content="Java基础-反射机制" />
<meta property="og:description" content="反射机制 思考 创建一个对象，有哪几种方式?
1、使用new关键字：这是我们最常见的也是最简单的创建对象的方式
2、使用Clone的方法：无论何时我们调用一个对象的clone方法，JVM就会创建一个新的对象，将前面的对象的内容全部拷贝进去
3、使用反序列化：当我们序列化和反序列化一个对象，JVM会给我们创建一个单独的对象
定义 JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意方法和属性；这种动态获取信息以及动态调用对象方法的功能称为java语言的反射机制。
通俗的讲，反射就是把Java类中的各个部分，映射成一个个的Java对象，拿到这些对象后可以做一些事情。
例如，一个类有：成员变量，方法，构造方法，等信息，利用反射技术咱们可以把这些组成部分映射成一个个对象。
反射机制的相关类 与Java反射相关的类如下：
   类名 用途     Class类 代表类的实体，在运行的Java应用程序中表示类和接口   Field类 代表类的成员变量（成员变量也称为类的属性）   Method类 代表类的方法   Constructor类 代表类的构造方法    Class类 Class代表类的实体，在运行的Java应用程序中表示类和接口。在这个类中提供了很多有用的方法，这里对他们简单的分类介绍。
 获得类相关的方法     方法 用途     asSubclass(Class clazz) 把传递的类的对象转换成代表其子类的对象   Cast 把对象转换成代表类或是接口的对象   getClassLoader() 获得类的加载器   getClasses() 返回一个数组，数组中包含该类中所有公共类和接口类的对象   getDeclaredClasses() 返回一个数组，数组中包含该类中所有类和接口类的对象   forName(String className) 根据类名返回类的对象   getName() 获得类的完整路径名字   newInstance() 创建类的实例   getPackage() 获得类的包   getSimpleName() 获得类的名字   getSuperclass() 获得当前类继承的父类的名字   getInterfaces() 获得当前类实现的类或是接口     获得类中属性相关的方法     方法 用途     getField(String name) 获得某个公有的属性对象   getFields() 获得所有公有的属性对象   getDeclaredField(String name) 获得某个属性对象   getDeclaredFields() 获得所有属性对象     获得类中注解相关的方法     方法 用途     getAnnotation(Class annotationClass) 返回该类中与参数类型匹配的公有注解对象   getAnnotations() 返回该类所有的公有注解对象   getDeclaredAnnotation(Class annotationClass) 返回该类中与参数类型匹配的所有注解对象   getDeclaredAnnotations() 返回该类所有的注解对象     获得类中构造器相关的方法     方法 用途     getConstructor(Class&hellip;&lt;?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" /><meta property="og:image" content="47"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-13T10:30:00+00:00" />
<meta property="article:modified_time" content="2020-07-13T10:30:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="47"/>

<meta name="twitter:title" content="Java基础-反射机制"/>
<meta name="twitter:description" content="反射机制 思考 创建一个对象，有哪几种方式?
1、使用new关键字：这是我们最常见的也是最简单的创建对象的方式
2、使用Clone的方法：无论何时我们调用一个对象的clone方法，JVM就会创建一个新的对象，将前面的对象的内容全部拷贝进去
3、使用反序列化：当我们序列化和反序列化一个对象，JVM会给我们创建一个单独的对象
定义 JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意方法和属性；这种动态获取信息以及动态调用对象方法的功能称为java语言的反射机制。
通俗的讲，反射就是把Java类中的各个部分，映射成一个个的Java对象，拿到这些对象后可以做一些事情。
例如，一个类有：成员变量，方法，构造方法，等信息，利用反射技术咱们可以把这些组成部分映射成一个个对象。
反射机制的相关类 与Java反射相关的类如下：
   类名 用途     Class类 代表类的实体，在运行的Java应用程序中表示类和接口   Field类 代表类的成员变量（成员变量也称为类的属性）   Method类 代表类的方法   Constructor类 代表类的构造方法    Class类 Class代表类的实体，在运行的Java应用程序中表示类和接口。在这个类中提供了很多有用的方法，这里对他们简单的分类介绍。
 获得类相关的方法     方法 用途     asSubclass(Class clazz) 把传递的类的对象转换成代表其子类的对象   Cast 把对象转换成代表类或是接口的对象   getClassLoader() 获得类的加载器   getClasses() 返回一个数组，数组中包含该类中所有公共类和接口类的对象   getDeclaredClasses() 返回一个数组，数组中包含该类中所有类和接口类的对象   forName(String className) 根据类名返回类的对象   getName() 获得类的完整路径名字   newInstance() 创建类的实例   getPackage() 获得类的包   getSimpleName() 获得类的名字   getSuperclass() 获得当前类继承的父类的名字   getInterfaces() 获得当前类实现的类或是接口     获得类中属性相关的方法     方法 用途     getField(String name) 获得某个公有的属性对象   getFields() 获得所有公有的属性对象   getDeclaredField(String name) 获得某个属性对象   getDeclaredFields() 获得所有属性对象     获得类中注解相关的方法     方法 用途     getAnnotation(Class annotationClass) 返回该类中与参数类型匹配的公有注解对象   getAnnotations() 返回该类所有的公有注解对象   getDeclaredAnnotation(Class annotationClass) 返回该类中与参数类型匹配的所有注解对象   getDeclaredAnnotations() 返回该类所有的注解对象     获得类中构造器相关的方法     方法 用途     getConstructor(Class&hellip;&lt;?"/>
<meta name="application-name" content="Z">
<meta name="apple-mobile-web-app-title" content="Z"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/logo/"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" /><link rel="prev" href="/%E7%90%86%E8%A7%A3%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86cglibaop/" /><link rel="next" href="/tomcat/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Java基础-反射机制",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6\/"
        },"image": ["\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "Java基础","wordcount":  1043 ,
        "url": "\/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6\/","datePublished": "2020-07-13T10:30:00+00:00","dateModified": "2020-07-13T10:30:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "lei.zz"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Z"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo/logo.png"
        data-srcset="/images/logo/logo.png, /images/logo/logo.png 1.5x, /images/logo/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo/logo.png"
        title="/images/logo/logo.png" />Z</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/https:/github.com/lei-zz/lei-zz.github.io" title="GitHub"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" selected>English</option></select>
                    </a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Z"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo/logo.png"
        data-srcset="/images/logo/logo.png, /images/logo/logo.png 1.5x, /images/logo/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo/logo.png"
        title="/images/logo/logo.png" />Z</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/https:/github.com/lei-zz/lei-zz.github.io" title="GitHub"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" selected>English</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Java基础-反射机制</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>lei.zz</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-07-13">2020-07-13</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1043 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;<span id="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" class="leancloud_visitors" data-flag-title="Java基础-反射机制">
                        <i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;views
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#思考">思考</a></li>
    <li><a href="#定义">定义</a></li>
    <li><a href="#反射机制的相关类">反射机制的相关类</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="反射机制">反射机制</h1>
<h2 id="思考">思考</h2>
<p><strong>创建一个对象，有哪几种方式?</strong></p>
<p>1、使用new关键字：这是我们最常见的也是最简单的创建对象的方式</p>
<p>2、使用Clone的方法：无论何时我们调用一个对象的clone方法，JVM就会创建一个新的对象，将前面的对象的内容全部拷贝进去</p>
<p>3、使用反序列化：当我们序列化和反序列化一个对象，JVM会给我们创建一个单独的对象</p>
<h2 id="定义">定义</h2>
<p><strong>JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意方法和属性；这种动态获取信息以及动态调用对象方法的功能称为java语言的反射机制。</strong></p>
<p>通俗的讲，反射就是把Java类中的各个部分，映射成一个个的Java对象，拿到这些对象后可以做一些事情。</p>
<p>例如，一个类有：成员变量，方法，构造方法，等信息，利用反射技术咱们可以把这些组成部分映射成一个个对象。</p>
<h2 id="反射机制的相关类">反射机制的相关类</h2>
<p>与Java反射相关的类如下：</p>
<table>
<thead>
<tr>
<th>类名</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>Class类</td>
<td>代表类的实体，在运行的Java应用程序中表示类和接口</td>
</tr>
<tr>
<td>Field类</td>
<td>代表类的成员变量（成员变量也称为类的属性）</td>
</tr>
<tr>
<td>Method类</td>
<td>代表类的方法</td>
</tr>
<tr>
<td>Constructor类</td>
<td>代表类的构造方法</td>
</tr>
</tbody>
</table>
<h1 id="class类">Class类</h1>
<p><a href="https://developer.android.google.cn/reference/java/lang/Class" target="_blank" rel="noopener noreffer">Class</a>代表类的实体，在运行的Java应用程序中表示类和接口。在这个类中提供了很多有用的方法，这里对他们简单的分类介绍。</p>
<ul>
<li><strong>获得类相关的方法</strong></li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>asSubclass(Class<U> clazz)</td>
<td>把传递的类的对象转换成代表其子类的对象</td>
</tr>
<tr>
<td>Cast</td>
<td>把对象转换成代表类或是接口的对象</td>
</tr>
<tr>
<td>getClassLoader()</td>
<td>获得类的加载器</td>
</tr>
<tr>
<td>getClasses()</td>
<td>返回一个数组，数组中包含该类中所有公共类和接口类的对象</td>
</tr>
<tr>
<td>getDeclaredClasses()</td>
<td>返回一个数组，数组中包含该类中所有类和接口类的对象</td>
</tr>
<tr>
<td>forName(String className)</td>
<td>根据类名返回类的对象</td>
</tr>
<tr>
<td>getName()</td>
<td>获得类的完整路径名字</td>
</tr>
<tr>
<td>newInstance()</td>
<td>创建类的实例</td>
</tr>
<tr>
<td>getPackage()</td>
<td>获得类的包</td>
</tr>
<tr>
<td>getSimpleName()</td>
<td>获得类的名字</td>
</tr>
<tr>
<td>getSuperclass()</td>
<td>获得当前类继承的父类的名字</td>
</tr>
<tr>
<td>getInterfaces()</td>
<td>获得当前类实现的类或是接口</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>获得类中属性相关的方法</strong></li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>getField(String name)</td>
<td>获得某个公有的属性对象</td>
</tr>
<tr>
<td>getFields()</td>
<td>获得所有公有的属性对象</td>
</tr>
<tr>
<td>getDeclaredField(String name)</td>
<td>获得某个属性对象</td>
</tr>
<tr>
<td>getDeclaredFields()</td>
<td>获得所有属性对象</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>获得类中注解相关的方法</strong></li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>getAnnotation(Class<A> annotationClass)</td>
<td>返回该类中与参数类型匹配的公有注解对象</td>
</tr>
<tr>
<td>getAnnotations()</td>
<td>返回该类所有的公有注解对象</td>
</tr>
<tr>
<td>getDeclaredAnnotation(Class<A> annotationClass)</td>
<td>返回该类中与参数类型匹配的所有注解对象</td>
</tr>
<tr>
<td>getDeclaredAnnotations()</td>
<td>返回该类所有的注解对象</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>获得类中构造器相关的方法</strong></li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>getConstructor(Class&hellip;&lt;?&gt; parameterTypes)</td>
<td>获得该类中与参数类型匹配的公有构造方法</td>
</tr>
<tr>
<td>getConstructors()</td>
<td>获得该类的所有公有构造方法</td>
</tr>
<tr>
<td>getDeclaredConstructor(Class&hellip;&lt;?&gt; parameterTypes)</td>
<td>获得该类中与参数类型匹配的构造方法</td>
</tr>
<tr>
<td>getDeclaredConstructors()</td>
<td>获得该类所有构造方法</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>获得类中方法相关的方法</strong></li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>getMethod(String name, Class&hellip;&lt;?&gt; parameterTypes)</td>
<td>获得该类某个公有的方法</td>
</tr>
<tr>
<td>getMethods()</td>
<td>获得该类所有公有的方法</td>
</tr>
<tr>
<td>getDeclaredMethod(String name, Class&hellip;&lt;?&gt; parameterTypes)</td>
<td>获得该类某个方法</td>
</tr>
<tr>
<td>getDeclaredMethods()</td>
<td>获得该类所有方法</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>类中其他重要的方法</strong></li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>isAnnotation()</td>
<td>如果是注解类型则返回true</td>
</tr>
<tr>
<td>isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass)</td>
<td>如果是指定类型注解类型则返回true</td>
</tr>
<tr>
<td>isAnonymousClass()</td>
<td>如果是匿名类则返回true</td>
</tr>
<tr>
<td>isArray()</td>
<td>如果是一个数组类则返回true</td>
</tr>
<tr>
<td>isEnum()</td>
<td>如果是枚举类则返回true</td>
</tr>
<tr>
<td>isInstance(Object obj)</td>
<td>如果obj是该类的实例则返回true</td>
</tr>
<tr>
<td>isInterface()</td>
<td>如果是接口类则返回true</td>
</tr>
<tr>
<td>isLocalClass()</td>
<td>如果是局部类则返回true</td>
</tr>
<tr>
<td>isMemberClass()</td>
<td>如果是内部类则返回true</td>
</tr>
</tbody>
</table>
<h1 id="field类">Field类</h1>
<p><a href="https://developer.android.google.cn/reference/java/lang/reflect/Field" target="_blank" rel="noopener noreffer">Field</a>代表类的成员变量（成员变量也称为类的属性）。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>equals(Object obj)</td>
<td>属性与obj相等则返回true</td>
</tr>
<tr>
<td>get(Object obj)</td>
<td>获得obj中对应的属性值</td>
</tr>
<tr>
<td>set(Object obj, Object value)</td>
<td>设置obj中对应属性值</td>
</tr>
</tbody>
</table>
<h1 id="method类">Method类</h1>
<p><a href="https://developer.android.google.cn/reference/java/lang/reflect/Method" target="_blank" rel="noopener noreffer">Method</a>代表类的方法。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>invoke(Object obj, Object&hellip; args)</td>
<td>传递object对象及参数调用该对象对应的方法</td>
</tr>
</tbody>
</table>
<h1 id="constructor类">Constructor类</h1>
<p><a href="https://developer.android.google.cn/reference/java/lang/reflect/Constructor" target="_blank" rel="noopener noreffer">Constructor</a>代表类的构造方法。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>newInstance(Object&hellip; initargs)</td>
<td>根据传递的参数创建类的对象</td>
</tr>
</tbody>
</table>
<h1 id="示例">示例</h1>
<p>为了演示反射的使用，首先构造一个与书籍相关的model——Book.java，然后通过反射方法示例创建对象、反射私有构造方法、反射私有属性、反射私有方法，最后给出两个比较复杂的反射示例——获得当前ZenMode和关机Shutdown。</p>
<ul>
<li><strong>被反射类Book.java</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&#34;BookTag&#34;</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">author</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&#34;Book{&#34;</span> <span class="o">+</span>
                <span class="s">&#34;name=&#39;&#34;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">&#39;\&#39;&#39;</span> <span class="o">+</span>
                <span class="s">&#34;, author=&#39;&#34;</span> <span class="o">+</span> <span class="n">author</span> <span class="o">+</span> <span class="sc">&#39;\&#39;&#39;</span> <span class="o">+</span>
                <span class="sc">&#39;}&#39;</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Book</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nf">Book</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">author</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getAuthor</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">author</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAuthor</span><span class="o">(</span><span class="n">String</span> <span class="n">author</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="nf">declaredMethod</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">string</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">index</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">0</span><span class="o">:</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s">&#34;I am declaredMethod 1 !&#34;</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">1</span><span class="o">:</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s">&#34;I am declaredMethod 2 !&#34;</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s">&#34;I am declaredMethod 1 !&#34;</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">string</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>反射逻辑封装在ReflectClass.java</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReflectClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&#34;peter.log.ReflectClass&#34;</span><span class="o">;</span>

    <span class="c1">// 创建对象
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">reflectNewInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">classBook</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.android.peter.reflectdemo.Book&#34;</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">objectBook</span> <span class="o">=</span> <span class="n">classBook</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
            <span class="n">Book</span> <span class="n">book</span> <span class="o">=</span> <span class="o">(</span><span class="n">Book</span><span class="o">)</span> <span class="n">objectBook</span><span class="o">;</span>
            <span class="n">book</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;Android进阶之光&#34;</span><span class="o">);</span>
            <span class="n">book</span><span class="o">.</span><span class="na">setAuthor</span><span class="o">(</span><span class="s">&#34;刘望舒&#34;</span><span class="o">);</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&#34;reflectNewInstance book = &#34;</span> <span class="o">+</span> <span class="n">book</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// 反射私有的构造方法
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">reflectPrivateConstructor</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">classBook</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.android.peter.reflectdemo.Book&#34;</span><span class="o">);</span>
            <span class="n">Constructor</span><span class="o">&lt;?&gt;</span> <span class="n">declaredConstructorBook</span> <span class="o">=</span> <span class="n">classBook</span><span class="o">.</span><span class="na">getDeclaredConstructor</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">declaredConstructorBook</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">objectBook</span> <span class="o">=</span> <span class="n">declaredConstructorBook</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&#34;Android开发艺术探索&#34;</span><span class="o">,</span><span class="s">&#34;任玉刚&#34;</span><span class="o">);</span>
            <span class="n">Book</span> <span class="n">book</span> <span class="o">=</span> <span class="o">(</span><span class="n">Book</span><span class="o">)</span> <span class="n">objectBook</span><span class="o">;</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&#34;reflectPrivateConstructor book = &#34;</span> <span class="o">+</span> <span class="n">book</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// 反射私有属性
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">reflectPrivateField</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">classBook</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.android.peter.reflectdemo.Book&#34;</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">objectBook</span> <span class="o">=</span> <span class="n">classBook</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
            <span class="n">Field</span> <span class="n">fieldTag</span> <span class="o">=</span> <span class="n">classBook</span><span class="o">.</span><span class="na">getDeclaredField</span><span class="o">(</span><span class="s">&#34;TAG&#34;</span><span class="o">);</span>
            <span class="n">fieldTag</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">String</span> <span class="n">tag</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">fieldTag</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">objectBook</span><span class="o">);</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&#34;reflectPrivateField tag = &#34;</span> <span class="o">+</span> <span class="n">tag</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// 反射私有方法
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">reflectPrivateMethod</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">classBook</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.android.peter.reflectdemo.Book&#34;</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">methodBook</span> <span class="o">=</span> <span class="n">classBook</span><span class="o">.</span><span class="na">getDeclaredMethod</span><span class="o">(</span><span class="s">&#34;declaredMethod&#34;</span><span class="o">,</span><span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">methodBook</span><span class="o">.</span><span class="na">setAccessible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">objectBook</span> <span class="o">=</span> <span class="n">classBook</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">string</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">methodBook</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">objectBook</span><span class="o">,</span><span class="n">0</span><span class="o">);</span>

            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&#34;reflectPrivateMethod string = &#34;</span> <span class="o">+</span> <span class="n">string</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// 获得系统Zenmode值
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getZenMode</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">zenMode</span> <span class="o">=</span> <span class="o">-</span><span class="n">1</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">cServiceManager</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;android.os.ServiceManager&#34;</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">mGetService</span> <span class="o">=</span> <span class="n">cServiceManager</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;getService&#34;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">oNotificationManagerService</span> <span class="o">=</span> <span class="n">mGetService</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">cINotificationManagerStub</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;android.app.INotificationManager$Stub&#34;</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">mAsInterface</span> <span class="o">=</span> <span class="n">cINotificationManagerStub</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;asInterface&#34;</span><span class="o">,</span><span class="n">IBinder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">oINotificationManager</span> <span class="o">=</span> <span class="n">mAsInterface</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="n">oNotificationManagerService</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">mGetZenMode</span> <span class="o">=</span> <span class="n">cINotificationManagerStub</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;getZenMode&#34;</span><span class="o">);</span>
            <span class="n">zenMode</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">mGetZenMode</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">oINotificationManager</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">zenMode</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// 关闭手机
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">shutDown</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">cServiceManager</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;android.os.ServiceManager&#34;</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">mGetService</span> <span class="o">=</span> <span class="n">cServiceManager</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;getService&#34;</span><span class="o">,</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">oPowerManagerService</span> <span class="o">=</span> <span class="n">mGetService</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="n">Context</span><span class="o">.</span><span class="na">POWER_SERVICE</span><span class="o">);</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">cIPowerManagerStub</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;android.os.IPowerManager$Stub&#34;</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">mShutdown</span> <span class="o">=</span> <span class="n">cIPowerManagerStub</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;shutdown&#34;</span><span class="o">,</span><span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">Method</span> <span class="n">mAsInterface</span> <span class="o">=</span> <span class="n">cIPowerManagerStub</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;asInterface&#34;</span><span class="o">,</span><span class="n">IBinder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">Object</span> <span class="n">oIPowerManager</span> <span class="o">=</span> <span class="n">mAsInterface</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="n">oPowerManagerService</span><span class="o">);</span>
            <span class="n">mShutdown</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">oIPowerManager</span><span class="o">,</span><span class="kc">true</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">shutdownOrReboot</span><span class="o">(</span><span class="kd">final</span> <span class="kt">boolean</span> <span class="n">shutdown</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">confirm</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">ServiceManager</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;android.os.ServiceManager&#34;</span><span class="o">);</span>
            <span class="c1">// 获得ServiceManager的getService方法
</span><span class="c1"></span>            <span class="n">Method</span> <span class="n">getService</span> <span class="o">=</span> <span class="n">ServiceManager</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;getService&#34;</span><span class="o">,</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="c1">// 调用getService获取RemoteService
</span><span class="c1"></span>            <span class="n">Object</span> <span class="n">oRemoteService</span> <span class="o">=</span> <span class="n">getService</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">Context</span><span class="o">.</span><span class="na">POWER_SERVICE</span><span class="o">);</span>
            <span class="c1">// 获得IPowerManager.Stub类
</span><span class="c1"></span>            <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">cStub</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;android.os.IPowerManager$Stub&#34;</span><span class="o">);</span>
            <span class="c1">// 获得asInterface方法
</span><span class="c1"></span>            <span class="n">Method</span> <span class="n">asInterface</span> <span class="o">=</span> <span class="n">cStub</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;asInterface&#34;</span><span class="o">,</span> <span class="n">android</span><span class="o">.</span><span class="na">os</span><span class="o">.</span><span class="na">IBinder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="c1">// 调用asInterface方法获取IPowerManager对象
</span><span class="c1"></span>            <span class="n">Object</span> <span class="n">oIPowerManager</span> <span class="o">=</span> <span class="n">asInterface</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">oRemoteService</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">shutdown</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// 获得shutdown()方法
</span><span class="c1"></span>                <span class="n">Method</span> <span class="n">shutdownMethod</span> <span class="o">=</span> <span class="n">oIPowerManager</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getMethod</span><span class="o">(</span>
                        <span class="s">&#34;shutdown&#34;</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="c1">// 调用shutdown()方法
</span><span class="c1"></span>                <span class="n">shutdownMethod</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">oIPowerManager</span><span class="o">,</span> <span class="n">confirm</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">// 获得reboot()方法
</span><span class="c1"></span>                <span class="n">Method</span> <span class="n">rebootMethod</span> <span class="o">=</span> <span class="n">oIPowerManager</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;reboot&#34;</span><span class="o">,</span>
                        <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="c1">// 调用reboot()方法
</span><span class="c1"></span>                <span class="n">rebootMethod</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">oIPowerManager</span><span class="o">,</span> <span class="n">confirm</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>调用相应反射逻辑方法</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java">        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// 创建对象
</span><span class="c1"></span>            <span class="n">ReflectClass</span><span class="o">.</span><span class="na">reflectNewInstance</span><span class="o">();</span>

            <span class="c1">// 反射私有的构造方法
</span><span class="c1"></span>            <span class="n">ReflectClass</span><span class="o">.</span><span class="na">reflectPrivateConstructor</span><span class="o">();</span>

            <span class="c1">// 反射私有属性
</span><span class="c1"></span>            <span class="n">ReflectClass</span><span class="o">.</span><span class="na">reflectPrivateField</span><span class="o">();</span>

            <span class="c1">// 反射私有方法
</span><span class="c1"></span>            <span class="n">ReflectClass</span><span class="o">.</span><span class="na">reflectPrivateMethod</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&#34; zenmode = &#34;</span> <span class="o">+</span> <span class="n">ReflectClass</span><span class="o">.</span><span class="na">getZenMode</span><span class="o">());</span>
</code></pre></td></tr></table>
</div>
</div><p>Log输出结果如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="m">08</span><span class="p">-</span><span class="m">27</span> <span class="m">15</span><span class="p">:</span><span class="m">11</span><span class="p">:</span><span class="m">37.999</span> <span class="m">11987</span><span class="p">-</span><span class="m">11987</span><span class="p">/</span><span class="n">com</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">peter</span><span class="p">.</span><span class="n">reflectdemo</span> <span class="n">D</span><span class="p">/</span><span class="n">peter</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">ReflectClass</span><span class="p">:</span> <span class="n">reflectNewInstance</span> <span class="n">book</span> <span class="p">=</span> <span class="n">Book</span><span class="p">{</span><span class="n">name</span><span class="p">=</span><span class="err">&#39;</span><span class="n">Android进阶之光</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">author</span><span class="p">=</span><span class="err">&#39;刘望舒&#39;</span><span class="p">}</span>
<span class="m">08</span><span class="p">-</span><span class="m">27</span> <span class="m">15</span><span class="p">:</span><span class="m">11</span><span class="p">:</span><span class="m">38.000</span> <span class="m">11987</span><span class="p">-</span><span class="m">11987</span><span class="p">/</span><span class="n">com</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">peter</span><span class="p">.</span><span class="n">reflectdemo</span> <span class="n">D</span><span class="p">/</span><span class="n">peter</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">ReflectClass</span><span class="p">:</span> <span class="n">reflectPrivateConstructor</span> <span class="n">book</span> <span class="p">=</span> <span class="n">Book</span><span class="p">{</span><span class="n">name</span><span class="p">=</span><span class="err">&#39;</span><span class="n">Android开发艺术探索</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">author</span><span class="p">=</span><span class="err">&#39;任玉刚&#39;</span><span class="p">}</span>
<span class="m">08</span><span class="p">-</span><span class="m">27</span> <span class="m">15</span><span class="p">:</span><span class="m">11</span><span class="p">:</span><span class="m">38.000</span> <span class="m">11987</span><span class="p">-</span><span class="m">11987</span><span class="p">/</span><span class="n">com</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">peter</span><span class="p">.</span><span class="n">reflectdemo</span> <span class="n">D</span><span class="p">/</span><span class="n">peter</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">ReflectClass</span><span class="p">:</span> <span class="n">reflectPrivateField</span> <span class="n">tag</span> <span class="p">=</span> <span class="n">BookTag</span>
<span class="m">08</span><span class="p">-</span><span class="m">27</span> <span class="m">15</span><span class="p">:</span><span class="m">11</span><span class="p">:</span><span class="m">38.000</span> <span class="m">11987</span><span class="p">-</span><span class="m">11987</span><span class="p">/</span><span class="n">com</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">peter</span><span class="p">.</span><span class="n">reflectdemo</span> <span class="n">D</span><span class="p">/</span><span class="n">peter</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">ReflectClass</span><span class="p">:</span> <span class="n">reflectPrivateMethod</span> <span class="kt">string</span> <span class="p">=</span> <span class="n">I</span> <span class="n">am</span> <span class="n">declaredMethod</span> <span class="m">1</span> <span class="p">!</span>
<span class="m">08</span><span class="p">-</span><span class="m">27</span> <span class="m">15</span><span class="p">:</span><span class="m">11</span><span class="p">:</span><span class="m">38.004</span> <span class="m">11987</span><span class="p">-</span><span class="m">11987</span><span class="p">/</span><span class="n">com</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">peter</span><span class="p">.</span><span class="n">reflectdemo</span> <span class="n">D</span><span class="p">/</span><span class="n">peter</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">ReflectDemo</span><span class="p">:</span>  <span class="n">zenmode</span> <span class="p">=</span> <span class="m">0</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="总结">总结</h1>
<p>在阅读Class类文档时发现一个特点，以通过反射获得Method对象为例，一般会提供四种方法，getMethod(parameterTypes)、getMethods()、getDeclaredMethod(parameterTypes)和getDeclaredMethods()。</p>
<p>getMethod(parameterTypes)用来获取某个公有的方法的对象。</p>
<p>getMethods()获得该类所有公有的方法。</p>
<p>getDeclaredMethod(parameterTypes)获得该类某个方法。</p>
<p>getDeclaredMethods()获得该类所有方法。</p>
<p>**带有Declared修饰的方法可以反射到私有的方法，没有Declared修饰的只能用来反射公有的方法。**其他的Annotation、Field、Constructor也是如此。</p>
<p>在ReflectClass类中还提供了两种反射PowerManager.shutdown()的方法，在调用的时候会输出如下log，提示没有相关权限。之前在项目中尝试反射其他方法的时候还遇到过有权限和没权限返回的值不一样的情况。<strong>如果源码中明确进行了权限验证，而你的应用又无法获得这个权限的话，建议就不要浪费时间反射了。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"> W/System.err: java.lang.reflect.InvocationTargetException
 W/System.err:     at java.lang.reflect.Method.invoke<span class="o">(</span>Native Method<span class="o">)</span>
 W/System.err:     at .ReflectClass.shutDown<span class="o">(</span>ReflectClass.java:104<span class="o">)</span>
 W/System.err:     at .MainActivity<span class="nv">$1</span>.onClick<span class="o">(</span>MainActivity.java:25<span class="o">)</span>
 W/System.err:     at android.view.View.performClick<span class="o">(</span>View.java:6259<span class="o">)</span>
 W/System.err:     at android.view.View<span class="nv">$PerformClick</span>.run<span class="o">(</span>View.java:24732<span class="o">)</span>
 W/System.err:     at android.os.Handler.handleCallback<span class="o">(</span>Handler.java:789<span class="o">)</span>
 W/System.err:     at android.os.Handler.dispatchMessage<span class="o">(</span>Handler.java:98<span class="o">)</span>
 W/System.err:     at android.os.Looper.loop<span class="o">(</span>Looper.java:164<span class="o">)</span>
 W/System.err:     at android.app.ActivityThread.main<span class="o">(</span>ActivityThread.java:6592<span class="o">)</span>
 W/System.err:     at java.lang.reflect.Method.invoke<span class="o">(</span>Native Method<span class="o">)</span>
 W/System.err:     at com.android.internal.os.Zygote<span class="nv">$MethodAndArgsCaller</span>.run<span class="o">(</span>Zygote.java:240<span class="o">)</span>
 W/System.err:     at com.android.internal.os.ZygoteInit.main<span class="o">(</span>ZygoteInit.java:769<span class="o">)</span>
 W/System.err: Caused by: java.lang.SecurityException: Neither user <span class="m">10224</span> nor current process has android.permission.REBOOT.
 W/System.err:     at android.os.Parcel.readException<span class="o">(</span>Parcel.java:1942<span class="o">)</span>
 W/System.err:     at android.os.Parcel.readException<span class="o">(</span>Parcel.java:1888<span class="o">)</span>
 W/System.err:     at android.os.IPowerManager<span class="nv">$Stub$Proxy</span>.shutdown<span class="o">(</span>IPowerManager.java:787<span class="o">)</span>
 W/System.err:  ... <span class="m">12</span> more
</code></pre></td></tr></table>
</div>
</div><p>原文：https://www.jianshu.com/p/9be58ee20dee</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-07-13</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" data-title="Java基础-反射机制" data-hashtags="Java基础"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" data-hashtag="Java基础"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" data-title="Java基础-反射机制"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" data-title="Java基础-反射机制"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" data-title="Java基础-反射机制"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/java%E5%9F%BA%E7%A1%80/">Java基础</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E7%90%86%E8%A7%A3%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86cglibaop/" class="prev" rel="prev" title="理解代理模式、静态代理、动态代理、CGlib、AOP"><i class="fas fa-angle-left fa-fw"></i>理解代理模式、静态代理、动态代理、CGlib、AOP</a>
            <a href="/tomcat/" class="next" rel="next" title="Tomcat详解">Tomcat详解<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">lei.zz</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"en","pageSize":10,"placeholder":"Your comment ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"search":{"algoliaAppID":"DKS4FQ4NM8","algoliaIndex":"new-index-1647619849","algoliaSearchKey":"06463a93a6297b575b6669a10a43b650","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
